<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢—Ä–µ–∫–µ—Ä –¥–Ω–µ–≤–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- –®–∞–ø–∫–∞ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –ø–æ –¥–Ω—è–º -->
        <header class="header">
            <div class="date-navigation flex items-center justify-between">
                <button id="prevDay" class="btn btn--secondary btn--sm">
                    <span>‚¨ÖÔ∏è</span>
                </button>
                <h1 id="currentDate" class="date-display"></h1>
                <button id="nextDay" class="btn btn--secondary btn--sm">
                    <span>‚û°Ô∏è</span>
                </button>
            </div>
        </header>

        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≤–∫–ª–∞–¥–∫–∞–º -->
        <div class="tab-navigation flex">
            <button id="todayTab" class="tab-button active">–°–µ–≥–æ–¥–Ω—è</button>
            <button id="analysisTab" class="tab-button">–ê–Ω–∞–ª–∏–∑ –¥–Ω—è</button>
            <button id="weekTab" class="tab-button">–ù–µ–¥–µ–ª—è</button>
        </div>

        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –≤–∫–ª–∞–¥–∫–∏ "–°–µ–≥–æ–¥–Ω—è" -->
        <section id="todayContent" class="tab-content">
            <!-- –ù–æ–≤–∞—è —Å–µ—Ç–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ -->
            <div class="dashboard-grid">
                <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏ -->
                <div class="card new-task-card">
                    <h3 class="card-title">–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</h3>
                    <form id="addActivityForm" class="dashboard-form">
                        <div class="form-group">
                            <label for="activityDescription" class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                            <input type="text" id="activityDescription" class="form-control" required placeholder="–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞">
                        </div>

                        <div class="form-group">
                            <label for="activityCategory" class="form-label">–ü—Ä–æ–µ–∫—Ç</label>
                            <div class="project-select" onclick="toggleCategoryDropdown()">
                                <span id="selectedCategory">üíº –†–∞–±–æ—Ç–∞</span>
                                <span class="dropdown-arrow">‚Ä∫</span>
                            </div>
                            <select id="activityCategory" class="form-control hidden" required>
                                <option value="—Ä–∞–±–æ—Ç–∞" selected>üíº –†–∞–±–æ—Ç–∞</option>
                                <option value="–ª–∏—á–Ω—ã–µ –¥–µ–ª–∞">üë§ –õ–∏—á–Ω—ã–µ –¥–µ–ª–∞</option>
                                <option value="–±—ã—Ç">üè† –ë—ã—Ç</option>
                                <option value="—Å–ø–æ—Ä—Ç">üí™ –°–ø–æ—Ä—Ç</option>
                                <option value="–æ—Ç–¥—ã—Ö">üéÆ –û—Ç–¥—ã—Ö</option>
                                <option value="–¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è">üì± –î–µ–≥—Ä–∞–¥–∞—Ü–∏—è</option>
                            </select>
                        </div>

                        <div class="timer-display" id="timerDisplay">0:25</div>

                        <button type="submit" class="start-btn">–î–æ–±–∞–≤–∏—Ç—å –¥–µ–ª–æ</button>

                        <!-- –°–∫—Ä—ã—Ç—ã–µ –ø–æ–ª—è –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º JS -->
                        <input type="time" id="activityTime" class="hidden" value="">
                        <select id="activityDuration" class="hidden">
                            <option value="15">15 –º–∏–Ω</option>
                            <option value="25" selected>25 –º–∏–Ω</option>
                            <option value="30">30 –º–∏–Ω</option>
                            <option value="45">45 –º–∏–Ω</option>
                            <option value="60">1 —á–∞—Å</option>
                            <option value="90">1.5 —á–∞—Å–∞</option>
                            <option value="120">2 —á–∞—Å–∞</option>
                            <option value="180">3 —á–∞—Å–∞</option>
                            <option value="240">4 —á–∞—Å–∞</option>
                            <option value="custom">–î—Ä—É–≥–æ–µ</option>
                        </select>
                        <div id="customDuration" class="custom-duration hidden">
                            <input type="number" id="customDurationInput" class="form-control" min="1" placeholder="–º–∏–Ω">
                        </div>
                    </form>
                </div>

                <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ -->
                <div class="card analytics-card">
                    <h3 class="card-title">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h3>
                    <div class="chart-container">
                        <canvas id="dashboardChart" width="180" height="180"></canvas>
                        <div class="chart-center-value" id="chartCenterValue">0,0</div>
                    </div>
                    <div class="legend" id="dashboardLegend">
                        <!-- –õ–µ–≥–µ–Ω–¥–∞ –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ —á–µ—Ä–µ–∑ JavaScript -->
                    </div>
                </div>

                <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á "–°–µ–≥–æ–¥–Ω—è" -->
                <div class="card today-tasks-card">
                    <h3 class="card-title">–°–µ–≥–æ–¥–Ω—è</h3>
                    <div class="task-list" id="dashboardTasksList">
                        <!-- –ó–∞–¥–∞—á–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                    </div>
                </div>
            </div>
        </section>

        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –≤–∫–ª–∞–¥–∫–∏ "–ê–Ω–∞–ª–∏–∑ –¥–Ω—è" -->
        <section id="analysisContent" class="tab-content hidden">
            <div class="analysis-container">
                <div class="chart-container">
                    <h3>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞ –¥–µ–Ω—å</h3>
                    <div class="chart-wrapper">
                        <canvas id="dailyChart"></canvas>
                    </div>
                </div>

                <div class="stats-container">
                    <div class="card">
                        <div class="card__header">
                            <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –¥–µ–Ω—å</h3>
                        </div>
                        <div class="card__body">
                            <div id="categoryStats" class="category-stats">
                                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ —á–µ—Ä–µ–∑ JavaScript -->
                            </div>
                            <div class="total-stats">
                                <p><strong>–û–±—â–µ–µ –≤—Ä–µ–º—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:</strong> <span id="totalTime">0 —á–∞—Å–æ–≤ 0 –º–∏–Ω—É—Ç</span></p>
                            </div>
                        </div>
                    </div>

                    <div class="card ai-analysis">
                        <div class="card__header">
                            <h3>–ê–Ω–∞–ª–∏–∑ –¥–Ω—è</h3>
                        </div>
                        <div class="card__body">
                            <div id="aiAnalysis" class="ai-analysis-content">
                                <!-- –ê–Ω–∞–ª–∏–∑ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω —á–µ—Ä–µ–∑ JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –≤–∫–ª–∞–¥–∫–∏ "–ù–µ–¥–µ–ª—è" -->
        <section id="weekContent" class="tab-content hidden">
            <div class="week-container">
                <div class="chart-container">
                    <h3>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –Ω–µ–¥–µ–ª—é</h3>
                    <div class="chart-wrapper">
                        <canvas id="weeklyChart"></canvas>
                    </div>
                </div>

                <div class="weekly-stats card">
                    <div class="card__header">
                        <h3>–°–≤–æ–¥–∫–∞ –∑–∞ –Ω–µ–¥–µ–ª—é</h3>
                    </div>
                    <div class="card__body">
                        <div id="weeklyStats" class="weekly-stats-content">
                            <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–µ–ª–∞ -->
    <div id="editModal" class="modal hidden">
        <div class="modal-content card">
            <div class="card__header flex justify-between items-center">
                <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–ª–∞</h3>
                <button id="closeModal" class="btn btn--sm btn--secondary">‚úï</button>
            </div>
            <div class="card__body">
                <form id="editActivityForm" class="form">
                    <input type="hidden" id="editActivityId">
                    
                    <div class="form-group">
                        <label for="editActivityTime" class="form-label">–í—Ä–µ–º—è</label>
                        <input type="time" id="editActivityTime" class="form-control" required>
                    </div>

                    <div class="form-group">
                        <label for="editActivityCategory" class="form-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                        <select id="editActivityCategory" class="form-control" required>
                            <option value="—Ä–∞–±–æ—Ç–∞">üíº –†–∞–±–æ—Ç–∞</option>
                            <option value="–ª–∏—á–Ω—ã–µ –¥–µ–ª–∞">üë§ –õ–∏—á–Ω—ã–µ –¥–µ–ª–∞</option>
                            <option value="–±—ã—Ç">üè† –ë—ã—Ç</option>
                            <option value="—Å–ø–æ—Ä—Ç">üí™ –°–ø–æ—Ä—Ç</option>
                            <option value="–æ—Ç–¥—ã—Ö">üéÆ –û—Ç–¥—ã—Ö</option>
                            <option value="–¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è">üì± –î–µ–≥—Ä–∞–¥–∞—Ü–∏—è</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="editActivityDescription" class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        <input type="text" id="editActivityDescription" class="form-control" required>
                    </div>

                    <div class="form-group">
                        <label for="editActivityDuration" class="form-label">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</label>
                        <select id="editActivityDuration" class="form-control" required>
                            <option value="15">15 –º–∏–Ω</option>
                            <option value="30">30 –º–∏–Ω</option>
                            <option value="45">45 –º–∏–Ω</option>
                            <option value="60">1 —á–∞—Å</option>
                            <option value="90">1.5 —á–∞—Å–∞</option>
                            <option value="120">2 —á–∞—Å–∞</option>
                            <option value="180">3 —á–∞—Å–∞</option>
                            <option value="240">4 —á–∞—Å–∞</option>
                            <option value="custom">–î—Ä—É–≥–æ–µ</option>
                        </select>
                        <div id="editCustomDuration" class="custom-duration hidden">
                            <input type="number" id="editCustomDurationInput" class="form-control" min="1" placeholder="–º–∏–Ω">
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn--primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
    <div id="notification" class="notification hidden">
        <div class="notification-content">
            <span id="notificationMessage"></span>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>